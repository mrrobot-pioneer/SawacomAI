<!-- Home page -->

{% extends "base.html" %}

{% load static %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'chat/index.css' %}">
{% endblock %}

{% block content %}

<div class="index">
    <!-- Chat area when users sends message -->
    <div class="chat-body" id="chatBody"></div>

    <!-- initial display when no chats yet -->
    <div class="chat-start" id="chatStart">
        <div class="hero-row">
          <!-- Avatar cluster -->
          <div class="avatar-stack">
            <img src="{% static 'images/avatars/avatar1.png' %}" alt="User avatar" class="avatar">
            <img src="{% static 'images/avatars/avatar2.png' %}" alt="User avatar" class="avatar">
            <img src="{% static 'images/avatars/avatar3.png' %}" alt="User avatar" class="avatar">
            <img src="{% static 'images/avatars/avatar4.png' %}" alt="User avatar" class="avatar">
        </div>        
        
          <!-- Impact metric -->
          <h2 class="impact-metric">
            <strong>10.5K+</strong>&nbsp;lives supported
          </h2>
        </div>
        
        <div class="welcome-message" id="welcomeMessage">
          <h1>
              Hi, I’m Sawacom — your mental-health AI
          </h1>
        
          <p class="welcome-description">
            It’s free, private, and 100% anonymous.
            Prefer a human touch? <a href="{% url 'booking:book' %}">Book a licensed therapist</a> for just Ksh 5,000.
          </p>
        </div>

        <!-- Chat Input -->
        <form class="chat-input-box" id="chatInputBox">
            <textarea class="chat-input" id="userInput" placeholder="How can I help you today?" rows="1" autocomplete="off" maxlength="5000"></textarea>
            <button type="submit" id="sendButton" disabled>
                <i class="fa-solid fa-arrow-up"></i>
                <span class="tooltip empty-message">Message is empty</span>
            </button>
            <span id="charCounter" class="small-text char-counter">0 / 500</span>
        </form>
        
    </div>

    <!-- Footer -->
    <footer class="chat-footer" id="chatFooter">
          
        <!-- chat-input-box will be inserted here when user sends a message-->
        <p class="disclaimer small-text">
            Sawacom is an AI assistant and not a licensed professional. 
            For emergencies, call 999 or <a href="#">Book a professional</a>. 
            By messaging Sawacom, you agree to our <a href="{% url 'pages:terms' %}">Terms of Service</a> & <a href="{% url 'pages:privacy' %}">Privacy Policy</a>.
        </p>
        
    </footer>
</div>

{% endblock %}


{% block scripts %}
    <script type="module" src="{% static 'chat/index.js' %}" defer></script>
{% endblock %}